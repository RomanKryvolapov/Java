
<div align="center"><h1>Cвой MockWebServer</h1></div>
<br>
<br>


<p>В ходе изучения Мокиты столкнулся с ограничениями MockWebServer и возникла идея сделать некий промежуточный класс, в котором был бы тестовый режим, получилось примерно такое</p>
<p>Как все это работает- в обычном режиме работа ничем не отличается от стандартного okhttp, то есть в конструктор передается клиент, далее через соответствующие методы передаются нужные Header, далее если это post запрос то можно задать body, выполняется makeRequest и через геттеры вытягивается код ответа и сообщение ответа, единственное я не стал использовать @Accessors(fluent = true) в стиле билдера и стримов (чтобы писать параметры через точку), потому что без него код кажется наглядней, хотя и более громоздкий</p>
<p>Как работает тестирование- в классе есть статический переключатель testMode, также есть 2 статические мапы, куда по ключу url можно записать код ответа сервера и текст ответа, и если включен тестовый режим, результат берется из мап, ну а дальше как захочется- например в espresso смотреть реакцию на разные ответы сервера, или написать какие нибудь ассеты или verify и так далее. Чего не хватает- можно добавить еще параметр что то вроде задержки ответа.</p>
<p>Может есть готовые решения, но 10 минут гугления проблему не решили</p>
